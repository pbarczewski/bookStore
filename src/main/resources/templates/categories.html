<!DOCTYPE html>
<html>
<head>
<title th:text="Books"></title>
<link rel="stylesheet"
	href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
	integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
	crossorigin="anonymous" />
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" />
<link th:href="@{/css/categories.css}" rel="stylesheet" />
<script src="js/custom1.js"></script>
<script src="/webjars/jquery/3.1.1/jquery.min.js"></script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<style>
@import
	url('https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap')
	;
</style>

</head>

<body>
	<div class="container col-lg-10">
		<header>
			<div class="row nav">
				<div class="col-lg-10 mainNavbar">
					<nav class="navbar navbar-expand nav-left">
						<a class="navbar-brand" th:href="@{/}"> <i
							class="fas fa-book-reader"></i></a>
						<ul class="navbar-nav">
							<li class="nav-item"><a th:href="@{/books}">Books</a></li>
							<li class="nav-item"><a th:href="@{/authors}">Authors </a></li>
							<li class="nav-item"><a th:href="@{/top}">Top</a></li>
							<li class="nav-item"><a th:href="@{/categories/}">Categories</a></li>
						</ul>
					</nav>
				</div>

				<div class="col-lg-2 mainNavbar">
					<nav class="navbar navbar-expand nav-right">
						<ul class="navbar-nav ml-auto">
							<a th:href="@{/login}" class="nav-itemLogIn" role="button">Log
								in</a>
							<a th:href="@{/result}" class="nav-itemRegister" role="button">Register</a>
						</ul>
					</nav>
				</div>
			</div>
		</header>

		<main>
			<div class="row">
				<div class="col-lg-4 sectionTitle">
					<h1 th:inline="text">All categories</h1>
				</div>
				<div class="col-lg-4 selectCategory">
					<div class="dropdown">
						<button class="btn btn-secondary dropdown-toggle" type="button"
							id="dropdownMenuButton" data-toggle="dropdown"
							aria-haspopup="true" aria-expanded="false"><i class="fas fa-search"></i> Select Category</button>
						<div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
							<a th:each="singleCategory : ${category}" class="dropdown-item" 
							th:text="${singleCategory.name}" th:href="@{/categories/{category} (category=${singleCategory.name})}"></a> 
						</div>
					</div>
				</div>
			</div>
			<div class="row main">

				<div class="col-lg-2 test" th:each="singleBook, iterStat : ${books}">

					<div class="col-lg-12 bookImg">
						<a href="#"><img
							th:src="@{'/images/' + ${singleBook.getImages()}}" /></a> <a
							class="imageLink"
							th:href="@{/books/{id}/{title} (id=${singleBook.id}, title=${singleBook.title}) }"></a>
					</div>
					<article>
						<div class="col-lg-12 bookInfo">
							<a class="link"
								th:href="@{/books/{id}/{title} (id=${singleBook.id}, title=${singleBook.title}) }">
								<h1>
									<span th:inline="text"> [[${singleBook.getTitle()}]]</span>
								</h1>
							</a> <a class="link"
								th:href="@{/authors/{id}/{name} (id=${singleBook.authors[0].id}, name=${singleBook.authors[0].name}) }">
								<h2 th:inline="text"
									th:if="${#arrays.length(singleBook.getAuthors()) <= 1}">[[${singleBook.getAuthors()[0].name}]]</h2>
							</a>
							<h2 th:inline="text"
								th:if="${#arrays.length(singleBook.authors) >= 2}">Many
								authors</h2>
							<p class="rating">
								<strong> <i class="fas fa-star"></i>
									[[${singleBook.getRating()}]]/10
								</strong> | <i class="fas fa-book-open"></i> Readers:
								[[${singleBook.getVotes()}]]
							</p>
						</div>

					</article>

				</div>

			</div>
			<hr>
			<div class="col-lg-12">
				<ul class="pagination">
					<li class="page-item"><a class="page-link"
						th:if="${currentPage} > 0"
						th:href="@{/books/(page=${currentPage -1})}" aria-label="Previous">
							<span aria-hidden="true">&laquo;</span>
					</a></li>
					<li class="page-item"
						th:each="i : ${#numbers.sequence(0,books.totalPages-1)}"><a
						class="page-link" th:href="@{/books/(page=${i})}" th:text="${i}"
						th:classappend="${currentPage}==${i}? 'active' : ''"></a></li>

					<li class="page-item"><a class="page-link"
						th:if="${currentPage} < ${books.totalPages} -1"
						th:href="@{/books/(page=${currentPage +1})}" aria-label="Next">
							<span aria-hidden="true">&raquo;</span>
					</a></li>
				</ul>
			</div>
		</main>


		<footer>
			<div class="col-lg-10 footer">
				<a th:href="@{https://www.facebook.com/patryk.barczewski.5}"><i
					class="fab fa-facebook-f"></i></a> <a
					th:href="@{http://www.instagram.com/patryk_barczewski5}"><i
					class="fab fa-instagram"></i></a> &copy; Patryk Barczewski <a
					th:href="@{https://www.linkedin.com/in/patryk-barczewski-57b7a7144/}"><i
					class="fab fa-linkedin-in"></i></a> <a
					th:href="@{https://github.com/pbarczewski}"><i
					class="fab fa-github"></i></a>
			</div>
		</footer>
	</div>
</body>
</html>