<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>
<title>Title</title>
<link rel="stylesheet"
	href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
	integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
	crossorigin="anonymous">
<link th:href="@{/css/index.css}" rel="stylesheet" />
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
<script src="/webjars/jquery/3.1.1/jquery.min.js"></script>
</head>

<body>


<div class="container col-lg-10">
		<header>
			<div class="row nav">
				<div class="col-lg-10 mainNavbar">
					<nav class="navbar navbar-expand nav-left">
						<a class="navbar-brand" th:href="@{/}"> <i
							class="fas fa-book-reader"></i></a>
						<ul class="navbar-nav">
							<li class="nav-item"><a th:href="@{/books}">Books</a></li>
							<li class="nav-item"><a th:href="@{/authors}">Authors </a></li>
							<li class="nav-item"><a href="#">Top</a></li>
							<li class="nav-item"><a href="">Categories</a></li>
						</ul>
					</nav>
				</div>

				<div class="col-lg-2 mainNavbar">
					<nav class="navbar navbar-expand nav-right">
						<ul class="navbar-nav ml-auto">
							<a th:href="@{/login}" class="nav-itemLogIn" role="button">Log
								in</a>
							<a th:href="@{/result}" class="nav-itemRegister" role="button">Register</a>
						</ul>
					</nav>
				</div>
			</div>
		</header>


<main>
			<div class="row main">
				<div class="col-lg-2 test" th:each="singleBook, iterStat : ${books}">

					<div class="col-lg-12 bookImg">
						<a href="#"><img
							th:src="@{'/images/' + ${singleBook.getImages()}}" /></a> <a
							class="link1"
							th:href="@{/books/{id}/{title} (id=${singleBook.getId()}, title=${singleBook.getTitle()}) }"></a>
					</div>
					<article>
						<div class="col-lg-12 bookInfo">
							<a class="link"
								th:href="@{/books/{id}/{title} (id=${singleBook.getId()}, title=${singleBook.getTitle()}) }">
								<span th:inline="text">
									<h2>
										<strong>[[${singleBook.getTitle()}]]</strong>
									</h2>
							</a>
							<a class="link" th:href="@{/authors/{id}/{name} (id=${singleBook.getAuthors()[0].id}, name=${singleBook.getAuthors()[0].name}) }">
						<h3 th:inline="text" th:if="${#arrays.length(singleBook.getAuthors()) <= 1}">[[${singleBook.getAuthors()[0].name}]]</h3></a>
						<h3 th:inline="text" th:if="${#arrays.length(singleBook.getAuthors()) >= 2}">Many authors</h3>
							<strong> <i class="fas fa-star"></i>
								[[${singleBook.getRating()}]]/10 </strong> | Readers: [[${singleBook.getVotes()}]]
						</div>
						
					</article>

				</div>
				<hr>
			</div>
			<div class="col-lg-12">
				<ul class="pagination">
					<li class="page-item"
						th:each="i : ${#numbers.sequence(0,books.totalPages-1)}"><a
						th:href="@{/books/(page=${i})}" th:text="${i}" class="page-link"
						th:classappend="${currentPage}==${i}? 'active' : ''"></a></li>
				</ul>
			</div>
	
	</main>
</div>
</body>
</html>